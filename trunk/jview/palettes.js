(function(){define("jview/palettes",["jquery","jmodel/topaz","jmodel-plugins/jquery.emerald"],function($,t){var e;return e=function(){function e(e,n,r){var i,s,u,o;this.parameters=n,this.constructors=r,this.dl=$(e),this.dt=this.dl.children("dt"),this.state=new t.ObservableObject({current:Number,open:Boolean(!1)},{repeat:!0}),this.palettes=function(){var t,e;t=this.constructors,e=[];for(i in t)s=t[i],u=this.dl.children("dd").filter(i),o=u.prev("dt"),e.push(new s(o,u,this));return e}.call(this),this.dt.event("click").map(function(t){return function(t){var e;return e=t.target,Math.floor($(e).index()/2)}}(this)).subscribe(function(t){return function(e){return t.state.current(e),t.state.open(function(t){return!t})}}(this)),this.state.event("open").subscribe(function(t){return function(e){return t.dt.each(function(n,r){return n!==t.state.current()?$(r).removeClass("open"):$(r).toggleClass("open",e)})}}(this))}return e}(),{Palettes:e}})}).call(this);